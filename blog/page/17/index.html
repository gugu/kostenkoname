
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Андрей Костенко</title>
  <meta name="author" content="Andrii Kostenko">

  
  <meta name="description" content="
">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://gugu.github.com/kostenkoname/blog/page/17/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Андрей Костенко" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6026113-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Андрей Костенко</a></h1>
  
    <h2>TODO: добавить умный комментарий</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:gugu.github.com/kostenkoname" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/22/517/">Чемпион мира по вейкборду</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-22T23:05:36+04:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content">
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/19/d0b1d0b5d0bbd0bed180d183d181d181d0b8d18f-d181d0b4d0b5d0bbd0b0d0bbd0b0-d0b2d181d0b5d185/">Белоруссия сделала всех</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-19T10:44:22+04:00" pubdate data-updated="true">Aug 19<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Когда я приехал в Белоруссию, у меня был шок от надписей в стиле &#8220;скоростной интернет в интернет-кафе -512кбит/c&#8221;. Минск меня вообще порадовал - 256к на 20 компьютеров.
Но пообщавшись с работником компании Life:), узнал, что у них уже покрыта вся Белоруссия вышками 3g. Сейчас они вводят систему в тестовую эксплуатацию, а думаю, через пару месяцев на <strong>всей</strong> территории Белоруссии заработает интернет 3мбит/с.
Украине до этого сейчас далеко, а Кацапщине - ещё дальше, ведь 3g нет даже в Москве.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/07/moose/">Moose</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-07T09:01:02+04:00" pubdate data-updated="true">Aug 7<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Moose - это альтернативная объектная система для Perl 5. Она прячет от вас хитрые манипуляции с хэшами и &#8220;благословление&#8221; объектов и превращает Perl в язык с хорошим ООП.</p>

<h2>Начинаем работу</h2>

<p>Итак, что же нам даёт строчкa &#8220;use Moose&#8221;?</p>

<p>Во-первых она включает &#8220;use strict&#8221; и &#8220;use warnings&#8221;, потому что программа на Perl без этих директив заслуженно считается гавном.</p>

<p>Во-вторых - добавляет в тело пакета несколько ключевых слов, о которых я напишу чуть позже.</p>

<h2>Атрибуты</h2>

<p>Думаю, все знакомы с объектной системой Perl. Чтобы указатель превратился в объект, его нужно благословить (bless). Все аттрибуты являются ключами хэша, а валидации нет и в помине. Moose прячет от вас все эти хитрые подробности и позволяет работать с объектами примерно так же, как это делается в C# и Ruby.</p>

<p>Для начала давайте напишем простой класс без Moose, а потом с его помощью:</p>

<pre><code>#Без Moose
package MyRecordsCache;
use warnings;
use strict;
use Scalar::Util qw(looks_like_number);

sub new {
  my $class = shift;
  my $args = shift;
  $args{cache_size} //= 0;
  if ( ref $args-&gt;{cache_size} || int( $args-&gt;{cache_size} ) != $args-&gt;{cache_size} ) {
    die "cache_size must be integer";
  }
  my $self = { %$args };
  bless $class, $self;
  return $self;
}

sub cache_size {
  my $self = shift;
  $self-&gt;{cache_size};
}
1;
</code></pre>

<p>И версия с использованием Moose:</p>

<pre><code>package MyRecordsCache;
use Moose;
has 'cache_size' =&gt; ( 
  is =&gt; 'ro', #только для чтения.
  isa =&gt; 'Int', #только целые числа
  default =&gt; 0, #по умолчанию будет 0
);
__PACKAGE__-&gt;meta-&gt;make_immutable;
1;
</code></pre>

<p>С Moose получилось очень мало кода, а в исходнике появилось новое ключевое слово - <em>has</em>. Именно этим ключевым словом мы и создаём аттрибут. О его параметрах будет рассказано ниже. Как вы могли заметить, метода <em>new</em> у нас нет - Moose создаст его автоматически.</p>

<p>Итак, мы описали целочисленный аттрибут только для чтения с дефолтным значением. Ничего сложного, ага?</p>

<p>Но это лишь базовые возможности has. Ниже будет небольшая докуметация по параметрам <em>has</em>, а потом рассмотрим пример посложнее.</p>

<h3>Параметры ключевого слова has</h3>

<h4>is</h4>

<p>Обязательный параметр - тип аттрибута. &#8216;rw&#8217; или &#8216;ro&#8217;. <strong>r</strong>ead-<strong>o</strong>nly - изменение аттрибута невозможно. <strong>r</strong>ead-<strong>w</strong>rite - возможно как чтение, так и изменение объекта.</p>

<h4>isa</h4>

<p>Проверка устанавливаемых данных. Есть встроенный набор типов (Int, Bool, Str, Array, Array[Int],&#8230;), можно указать любой класс, либо создать свой тип с блекджеком и шлюхами. Тогда экземпляры этого класса и его наследников будут проходить валидацию.</p>

<h4>required</h4>

<p>Передаем его, если установка аттрибута обязательна при создании объектов</p>

<h4>default</h4>

<p>Значение по умолчанию. Здесь может быть либо скаляр (не ссылка), либо анонимная функция, которая возвращает значение аттрибута. Это нужно для того, чтобы у каждого объекта была собственная копия значения. Вот что было бы без этого ограничения:</p>

<pre><code>package A;
has 'attr' =&gt; ( is =&gt; 'rw', default=&gt; { test =&gt; 1 } );
package main;
my $v1 = A-&gt;new;
my $v2 = A-&gt;new;
$v1-&gt;attr-&gt;{test} = 2;
print $v1-&gt;attr-&gt;{test} . "\n"; # получаем "2"
print $v2-&gt;attr-&gt;{test} . "\n"; # вернёт "2" а не "1"
</code></pre>

<h4>clearer</h4>

<p>Создаёт вспомогательный метод, который очищает значение аттрибута.</p>

<h4>predicate</h4>

<p>Создаёт вспомогательный метод, который возвращает истину, если аттрибут установлен.</p>

<p>Пример:</p>

<pre><code>has 'owner' =&gt; ( 
  is =&gt; 'ro', 
  predicate =&gt; 'has_owner', 
  clearer =&gt; 'clear_owner' 
);
#затем
$obj-&gt;has_owner;#false
$obj-&gt;owner($owner);
$obj-&gt;has_owner;#true
$obj-&gt;owner(undef);
$obj-&gt;has_owner;# да-да, всё ещё true!
$obj-&gt;clear_owner;
$obj-&gt;has_owner; #ага, а вот сейчас false
</code></pre>

<h2>Делегация методов</h2>

<p>Делегация методов - это перекладывание задачи на другой класс. Или, если посмотреть с другой стороны, shortcut-ы. Пример делегации можно найти в LWP: В HTTP::Request есть метод headers, который возвращает класс HTTP::Headers. Но вместо <code>$req-&gt;headers-&gt;header('Content-Type' =&gt; 'text/html')</code> можно запросто написать <code>$req-&gt;header('Content-Type' =&gt; 'text/html');</code>
Если бы LWP писали на Moose, то реализация выглядела бы так:</p>

<pre><code>  package HTTP::Message;
  has 'headers' =&gt; ( #создаём аттрибут headers
    is =&gt; 'rw',
    isa =&gt; 'HTTP::Headers',
    default =&gt; sub { HTTP::Headers-&gt;new },
    handles =&gt; { #и делегируем выполнение нескольких наших методов ему
      header =&gt; 'header',
      headers_as_string =&gt; 'as_string'
      ...
    }
  );
  package main;
  my $msg = LWP::Message-&gt;new();
  $msg-&gt;headers-&gt;header( Location =&gt; 'http://127.0.0.1' );
  $msg-&gt;header( Location =&gt; 'http://127.0.0.1' );
  $msg-&gt;header_as_string;
</code></pre>

<p>Согласитесь, это лучше семи (а там 7 методов делегируется) процедур по 3 строки.</p>

<h2>Наследование</h2>

<p>В общем про наследование я расскажу в следующей телепередаче, а пока только про аттрибуты. Если вы напишете так:</p>

<pre><code>package A;
use Moose;
has attr =&gt; ( is =&gt; 'rw' );
package B;
use Moose;
extends 'A';
has attr =&gt; ( is =&gt; 'ro', default =&gt; 1 );
</code></pre>

<p>То Perl пошлёт вас в жопу аж два раза подряд. Во-первых, если вы хотите переопределить аттрибут, то вы должны это сказать явно:</p>

<pre><code>has '+attr' =&gt; ( default =&gt; 1 )
</code></pre>

<p>А во-вторых переопределять можно не все свойства. А только эти:</p>

<ul>
<li><p>default</p></li>
<li><p>coerce</p></li>
<li><p>required</p></li>
<li><p>documentation</p></li>
<li><p>lazy</p></li>
<li><p>isa</p></li>
<li><p>handles</p></li>
<li><p>builder</p></li>
<li><p>metaclass</p></li>
<li><p>traits</p></li>
</ul>


<p>Сделано это для защиты от извращенцев. В свободное время я посоветовал бы вам подумать о том, что извращенцы могли натворить без этих ограничений.</p>

<h2>Билдеры</h2>

<p>Билдеры - методы, которые вызываются для установки значения по умолчанию для аттрибута.
Конечно, значение аттрибута по умолчанию, равное пяти, можно и установить с помощью <code>( default =&gt; 5 )</code>. Но что если нужно что-либо посложнее?
Если нужно за этим значением сходить в базу, скачать файл, или позвонить бабушке в Крыжополь?
Вот для этого нам понадобятся билдеры.</p>

<pre><code>has attr =&gt; (
 is =&gt; 'ro',
 isa =&gt; 'Str',
 builder =&gt; '_build_attr'
);
sub _build_attr {
  my $self = shift;
  $self-&gt;dbh-&gt;selectrow_array('SELECT data FROM table');
}
</code></pre>

<p>Метод <code>_build_attr</code> может быть не только в этом же классе, но и в наследниках, и в ролях. В любом случае, он вызовется при создании объекта и установит наш аттрибут.</p>

<p>Но если наш аттрибут никогда не получается, на кой чёрт мы должны звонить бабушке ходить в базу?</p>

<pre><code>has attr =&gt; (
 is =&gt; 'ro',
 isa =&gt; 'Str',
 builder =&gt; '_build_attr',
 lazy_build =&gt; 1
);
</code></pre>

<p>Благодаря параметру lazy_build, аттрибут появится только при первом доступе к нему.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/01/d0bdd0b5d0bcd0bdd0bed0b3d0be-d0be-d0b2d0b0d188d0b8d185-d0b8d0b4d0b5d0b0d0bbd0b0d185/">немного о ваших идеалах</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-01T00:10:50+04:00" pubdate data-updated="true">Aug 1<span>st</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>Хочет ли кто-нибудь посмотреть вниз и     вглядеться, как на земле <em>фабрикуются идеалы</em>? У кого хватит духа на     это?.. Ну, так что ж! Здесь открытый вид в эту темную мастерскую. Подождите     еще с мгновение, господин любосластец и сорвиголова: Ваш глаз должен сперва     привыкнуть к этому фальшивому переливчатому свету&#8230; Так! Довольно! Говорите     теперь! Что происходит там, внизу? Рассказывайте, что Вы видите, человек     опаснейшего любопытства, — теперь я тот, кто будет Вас слушать. —
— &#8220;Я ничего не вижу, но я тем больше     слышу. Это вкрадчивый, коварный, едва различимый шепот и шушуканье во всех     углах и закоулках. Мне кажется, что здесь лгут; каждый звук липнет от     обсахаренной нежности. Слабость следует перелгать в <em>заслугу</em>, это     бесспорно, — с этим обстоит так, как Вы говорили&#8221;, —
— Дальше!
— &#8220;а бессилие, которое не воздает, — в     &#8220;доброту&#8221;; трусливую подлость — в &#8220;смирение&#8221;; подчинение тем, кого     ненавидят, — в &#8220;послушание&#8221; (именно тому, о ком они говорят, что он     предписывает это подчинение, — они именуют его Богом). Безобидного слабого,     сама трусость, которой у него вдосталь, его попрошайничество, его неизбежная     участь быть всегда ожидающим получает здесь слишком ладное наименование —     &#8220;терпение&#8221;, она столь же ладно зовется <em>добродетелью</em>; неумение     отмстить за себя называется нежеланием мстить, может быть, даже прощением     (&#8220;ибо <em>они</em> не ведают, что творят, — только мы ведаем, что     <em>они</em> творят!&#8221;). Говорят также о &#8220;любви к врагам своим&#8221; — и потеют     при этом&#8221;. —
— Дальше!
— &#8220;Они убоги, нет никакого сомнения, все     эти шептуны и подпольные фальшивомонетчики, хотя им и тепло на корточках     друг возле друга, — но они говорят мне, что их убожество есть знак Божьего     избранничества и отличия, что бьют как раз тех собак, которых больше всего     любят; это убожество, может статься, есть также некая подготовка, экзамен,     выучка, может статься, и нечто большее — нечто такое, что однажды будет     возмещено и с огромными процентами выплачено золотом, нет! счастьем. Это они     называют &#8220;блаженством&#8221;&#8220;. —
— Дальше! — &#8220;Теперь они дают мне понять, что они не     только лучше, чем сильные мира сего, господа земли, чьи плевки им надлежит     лизать (<em>не</em> из страха, вовсе не из страха! но понеже Бог велит     почитать всякое начальство), — что они не только лучше, но что и им &#8220;лучше&#8221;,     во всяком случае однажды будет лучше. Но довольно! довольно! Я не выношу     больше этого. Скверный воздух! Эта мастерская, где фабрикуют идеалы, — мне     кажется, она вся провоняла ложью&#8221;.</p></blockquote>

<p>Угадайте, какую религию обосрал здесь Ницше :-)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/23/d0bfd0bed187d0b5d0bcd183-d181d182d0b0d180d182d0b0d0bfd18b-d0bad0bed0bdd186d0b5d0bdd182d180d0b8d180d183d18ed182d181d18f-d0b2-d0b0d0bc/">Почему стартапы концентрируются в Америке</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-23T14:58:50+04:00" pubdate data-updated="true">Jul 23<span>rd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>by Пол Грэм (Paul Graham)</p>

<p>Эссе подготовлено на основе доклада, сделанного на конференции Xtech, май 2006. Оригинал на английском языке вы можете найти на сайте Пола Грэма - &#8220;Why Startups Condense in America&#8221;.</p>

<p>Стартапы образуются кластерами. Их очень много в Кремниевой долине и Бостоне, и намного меньше в Чикаго и Майами. Страна, которая стремится поощрять стартапы, должна также и воссоздать среду их возникновения.</p>

<p>Я уже говорил, что рецепт такой среды - это великолепный университет неподалеку от города, нравящегося умным людям. Если создать подобные условия в США, стартапы начнут появляться, как капли росы на холодной металлической поверхности. Но когда я думаю о том, что потребовалось бы для воссоздания Кремниевой Долины в другой стране, то понимаю, что в США почва для стартапов особенно благоприятна. Они гораздо легче образуются именно здесь.</p>

<p>Сама по себе попытка создания в другой стране собственной Кремниевой Долины имеет все шансы на успех. Вполне реально не просто повторить Кремниевую Долину, но и превзойти ее. Но если вы хотите добиться этого, вам нужно понять, какие преимущества получают стартапы в Америке.</p>

<p><strong>1. В США разрешена иммиграция</strong></p>

<p>Я сомневаюсь, что аналог Кремниевой Долины мог бы возникнуть в Японии, потому что иммигранты - один из самых характерных отличительных признаков территории, расположенной между Сан-Франциско и Сан-Хосе. Половина проживающих там говорит по-английски с акцентом. Японцы же не одобряют иммиграцию. Когда они думают о том, как создать японскую &#8220;кремниевую долину&#8221;, они наверняка неосознанно сводят это к размышлениям о том, как сделать долину населенную исключительно японцами. Подобная постановка вопроса уже практически гарантирует провал.</p>

<p>В идеале &#8220;кремниевая долина&#8221; должна быть Меккой для умных и амбициозных людей. Но невозможно создать Мекку, если никого в нее не впускать. Разумеется, то, что Америка более открыта для иммиграции, чем Япония, еще ни о чем не говорит. Иммиграционная политика - это одна из областей, в которой конкуренты могут превзойти США.</p>

<p><strong>2. США - богатая страна</strong></p>

<p>Я могу представить, что однажды в Индии возникнет достойный конкурент Кремниевой Долине. Очевидно, что в этой стране много грамотных специалистов, о чем можно судить хотя бы по количеству индийцев в американской Кремниевой Долине. Проблема Индии лишь в том, что она по-прежнему крайне бедна.</p>

<p>В бедных странах нет того, что мы принимаем как должное. Одна моя знакомая во время поездки в Индию упала с лестницы на железнодорожной станции и потянула лодыжку. Когда она обернулась, чтобы понять, что же произошло, то увидела, что все ступеньки были разной высоты. В развитых странах люди всю жизнь спускаются по лестницам и не задумываются о высоте ступенек, потому что существует инфраструктура, не позволяющая строить такие лестницы.</p>

<p>Соединенные Штаты никогда не были настолько бедны, как некоторые современные страны. Улицы американских городов никогда не кишели нищими. Поэтому у нас нет опыта перехода от нищеты к процветанию информационных технологий. Может ли одно уживаться с другим, или для возникновения &#8220;кремниевых долин&#8221; необходим некий исходный уровень благосостояния?</p>

<p>Я подозреваю, что у темпов развития экономики есть свой предел. Экономические системы создаются людьми, а каждое новое поколение может привнести лишь ограниченный сдвиг мировоззрения.[1]</p>

<p><strong>3. США - (пока) не полицейское государство</strong></p>

<p>Еще одна страна, которая, как мне кажется, хочет создать свою &#8220;кремниевую долину&#8221; - это Китай. Но я пока сомневаюсь в их способности сделать это. Похоже, Китай все еще является полицейским государством, и хотя их нынешние лидеры выглядят гораздо цивилизованнее предыдущих, даже просвещенный деспотизм позволяет преодолеть только часть пути к экономическому могуществу.</p>

<p>Он может создать заводы для производства товаров, разработанных за рубежом. Но сможет ли он привлечь разработчиков? Может ли воображение процветать в стране, где люди не вправе критиковать правительство? Воображение рождает необычные идеи, и тот, кому присущи необычные технологические идеи, скорее всего, будет склонен и к политическому инакомыслию. В любом случае, у многих технологических задумок есть и политический подтекст. Поэтому отголоски подавления инакомыслия скажутся и в технических сферах.[2]</p>

<p>С подобной проблемой столкнется и Сингапур. В этой стране хорошо осознают необходимость поощрения стартапов. Но активное вмешательство правительства, которое может позволить эффективно управлять портом, не способно выпестовать новые стартапы. Государству, где запрещена жевательная резинка, придется пройти долгий путь, прежде чем оно сможет создать Сан-Франциско.</p>

<p>А нужен ли вам Сан-Франциско? Возможно, есть другой путь создания инноваций, пролегающий через подчинение и кооперацию, а не через индивидуализм? Возможно, но я сам так не думаю. Большинству творческих людей всех времен и народов была присуща неуступчивая самостоятельность.</p>

<p>Помните, как Диоген попросил Александра отойти и не загораживать ему солнце? Или как две тысячи лет спустя Фейнман взламывал сейфы в Лос-Аламосе? (подробнее об этом можно прочитать в книге Ричарда Ф. Фейнмана &#8220;Вы, конечно, шутите, мистер Фейнман!&#8221; - прим. перев.) [3] Одаренные люди не хотят ни вести, ни быть ведомыми. Наиболее продуктивно они работают тогда, когда каждый может сам выбрать себе занятие.</p>

<p>Как это ни парадоксально, но из всех развитых стран именно США за последнее время лишились самого значительного числа гражданских свобод. Но я пока не слишком этим обеспокоен. Надеюсь, что после смены президентской администрации американская культура вновь обретет свою естественную открытость.</p>

<p><strong>4. Американские университеты лучше</strong></p>

<p>Для создания &#8220;кремниевой долины&#8221; нужен очень хороший университет, которых за пределами Соединенных Штатов пока мало. Я спросил у нескольких американских профессоров информатики, какие университеты Европы пользуются наибольшим авторитетом. Все они сразу же отвечали: &#8220;Кембридж&#8221;, а затем замолкали, пытаясь вспомнить еще что-нибудь. В мире немного высших учебных заведений, способных сравниться с лучшими университетами Америки (по крайней мере, в технических дисциплинах).</p>

<p>В некоторых странах это является результатом целенаправленной политики. Правительства Германии и Голландии (возможно, желая избежать элитарности) стараются обеспечить примерно одинаковый уровень образования во всех университетах страны. Недостаток подобного подхода в том, что все университеты в итоге оказываются не слишком хорошими. Лучшие преподаватели рассредоточены по разным учебным заведениям (в отличие от США, где они собраны вместе). Это делает их труд менее продуктивным, так как им недостает квалифицированных коллег, которые бы их вдохновляли. Это также означает, что ни один университет не будет достаточно хорош, чтобы служить Меккой, привлекающей талантливых людей из-за границы и способствующей возникновению стартапов.</p>

<p>Случай с Германией вызывает удивление. Ведь именно в этой стране зародилась модель современных университетов, и вплоть до 30-х годов XX века немецкие учебные заведения считались лучшими в мире. Теперь же стране нечем похвастаться. Когда я обдумывал этот феномен, то поймал себя на мысли: &#8220;Я могу понять, почему немецкие университеты испытали такой резкий упадок в 30-е годы, после того, как из них были изгнаны все евреи. Но ведь они уже давно могли бы выйти на прежний уровень&#8221;. А потом я понял, что, может быть, и нет. Евреев в Германии осталось совсем немного, и большинство из тех, с кем я знаком, не хотят переезжать туда. А если вы возьмете любой хороший американский университет и уберете из него всех евреев, то сразу же возникнут довольно заметные пробелы. Поэтому попытка создания &#8220;Кремниевой долины&#8221; в Германии, пожалуй, обречена на провал, поскольку не удастся основать должного уровня университеты, вокруг которых могла бы образоваться &#8220;долина&#8221;.[4]</p>

<p>Конкуренция между американскими университетами вполне естественна, потому что большинство из них являются частными. Чтобы добиться такого же качества высшего образования, как в Америке, возможно, придется перенять и эту особенность. Если университеты будут подчиняться правительству, то, в конечном итоге, политические игры приведут их к единому усредненному состоянию: новые научно-исследовательские институты будут возникать, прежде всего, при университетах округов, которыми управляет влиятельный политик, - а не там, где им следовало бы находиться.</p>

<p><strong>5. В Америке работников можно увольнять</strong></p>

<p>Я считаю, что отношение к занятости населения - одно из самых серьезных препятствий для создания стартапов в Европе. Нашумевшие законы о труде, отличающиеся своей суровостью, ударили по каждой компании - а в особенности по стартапам, потому что у стартапов меньше всего времени на бюрократическую волокиту.</p>

<p>Препятствия для увольнения работников создают наибольшие проблемы именно для стартапов, потому что у последних нет никакой избыточности. Каждый должен выполнять свою работу хорошо.</p>

<p>Но дело даже не в том, что у стартапа могут возникнуть проблемы с увольнением некомпетентного сотрудника. Во всех отраслях и странах прослеживается отчетливая обратно пропорциональная связь между производительностью и стабильностью рабочего места. Актеров и режиссеров увольняют после съемок каждого фильма, поэтому им каждый раз приходится выкладываться. Профессоров увольняют по умолчанию через несколько лет - за исключением случаев, когда университет предоставляет им должности с гарантированной занятостью, с которых их не могут уволить (tenure - прим. перев.). Профессиональные спортсмены знают, что их посадят на скамейку после пары-тройки неудачных игр. На другом конце спектра (по крайней мере, в США) находятся водители, нью-йоркские школьные учителя и чиновники, уволить которых практически невозможно. Зависимость между производительностью и стабильностью настолько очевидна, что не заметить ее можно, лишь намеренно закрыв глаза.</p>

<p>Как вы сказали? Производительность труда - не главное? А разве водители, школьные учителя и чиновники счастливее актеров, университетских преподавателей и профессиональных спортсменов?</p>

<p>Европейское общественное мнение, судя по всему, не осудит увольнений в отраслях, производительность которых его волнует. К сожалению, единственная &#8220;отрасль&#8221;, судьба которой действительно заботит европейцев, - это футбол. По крайней мере, это прецедент.</p>

<p><strong>6. В Америке работа в меньшей степени ассоциируется с трудоустройством</strong></p>

<p>В более консервативных Европе и Японии проблема не только в трудовом законодательстве. Гораздо опаснее воззрения, нашедшие отражение в законах, что работник - некое подобие слуги, которого работодатель должен защищать. Раньше в Америке дела обстояли так же. В 70-х годах люди все еще считали своим долгом устроиться в крупную компанию и, в идеале, проработать на нее всю оставшуюся жизнь. Взамен компания заботилась о подчиненных: старалась не увольнять их, оплачивать их медицинские расходы и обеспечивать им достойную старость.</p>

<p>Постепенно отношение начальства к подчиненным утратило &#8220;отеческий&#8221; характер, и трудоустройство превратилось в банальный экономический обмен. Но преимущество новой модели заключается не только в том, что она облегчает рост стартапов. По-моему, гораздо важнее то, что она облегчает само их создание.</p>

<p>Даже в США большинство выпускников колледжа все еще считают, что им нужно устроиться на работу - как будто нельзя продуктивно трудиться, не будучи чьим-то работником. Чем меньше вы отождествляете работу с трудоустройством, тем легче вам создать стартап. Когда карьера представляется вам вереницей различных видов работы, а не пожизненной службой одному работодателю, создание собственной компании менее рискованно, потому что вы всего лишь заменяете одно из звеньев цепи - вместо полного отказа от карьеры.</p>

<p>Старые устои настолько сильны, что даже наиболее успешным предпринимателям пришлось потратить немало сил на борьбу с ними. Через год после создания Apple Стив Возняк все еще продолжал работать в HP и рассчитывал работать там до самой пенсии. И когда Джобс нашел для компании Apple солидных венчурных инвесторов, согласных вложить деньги при условии, что Возняк уволится, тот поначалу отказался. Он утверждал, что сможет успешно совмещать одно с другим - ведь смог же он, работая в HP, создать компьютеры Apple I и Apple II.</p>

<p><strong>7. Америка не слишком требовательна</strong></p>

<p>Если бизнес регулируется какими-либо законами, будьте уверены: зарождающиеся стартапы их нарушат. Ведь их основатели не знают законов и не имеют времени в них разбираться.</p>

<p>Многие стартапы зарождались в местах, где ведение бизнеса не совсем законно. Например, офисы Hewlett-Packard, Apple и Google сперва располагались в гаражах. Еще больше стартапов, включая и наш, поначалу работали прямо в квартирах своих учредителей. Если бы были приняты законы, запрещающие подобную практику, стартапов возникало бы гораздо меньше.</p>

<p>В более педантичных странах подобные законы являются помехой бизнесу. Если бы Хьюлетт и Паккард решили собирать электронику у себя в гараже где-нибудь в Швейцарии, старушка, живущая по соседству, тут же донесла бы на них муниципальным властям.</p>

<p>Но самая серьезная проблема других стран - это количество сил, которое нужно потратить на учреждение компании. Мой друг из Германии открыл собственное дело в начале 90-х годов и с ужасом обнаружил, что для регистрации фирмы, помимо многих других требований, ему необходимо внести 20000 долларов в ее уставный капитал. Это одна из причин того, что я печатаю свою статью не на ноутбуке Apfel. Джобс и Возняк не смогли бы найти такие средства: их компания финансировалась за счет продажи автобуса Volkswagen и калькулятора HP. Мы тоже не смогли бы создать Viaweb. [5]</p>

<p>Маленький совет правительствам, стремящимся стимулировать возникновение стартапов в своей стране: прочитайте истории создания существующих стартапов и попытайтесь смоделировать их развитие в вашей стране. Когда наткнетесь на нечто, что могло бы на корню пресечь развитие Apple, - избавьтесь от этого.</p>

<p>Стартапы по своей природе маргинальны. Их создают бедные и неуверенные люди. Стартапы зарождаются в свободное время в малопривлекательных местах; людьми, чьи обязанности заключаются совершенно в другом; и хотя стартапы являются бизнесом, зачастую их создатели ровным счетом ничего не знают о ведении бизнеса. Молодые компании крайне хрупки. И общество со слишком жесткими законами все их уничтожит.</p>

<p><strong>8. Америка обладает большим внутренним рынком</strong></p>

<p>На этапе формирования стартап поддерживает только перспектива выпуска первоначальной версии продукта. Поэтому успешные стартапы делают первую версию предельно простой. В США они обычно начинают с продукта, предназначенного только для внутреннего рынка.</p>

<p>Это работает в Америке, потому что ее внутренний рынок составляет 300 миллионов человек. В Швеции же подобный подход был бы гораздо менее эффективен. В небольшой стране перед стартапом встает более сложная задача: он с самого начала должен выходить на международный рынок.</p>

<p>Создание Евросоюза частично было нацелено как раз на то, чтобы сымитировать единый внутренний рынок сбыта. Но проблема в том, что члены ЕС все еще говорят на разных языках. Поэтому шведский стартап, создающий программное обеспечение, находится в заведомо более проигрышных условиях, чем американский, потому что ему с самого начала придется работать на международном рынке. Немаловажно, что Skype, самый знаменитый из недавних европейских стартапов, работал над проблемой, которая, по сути своей, является межнациональной.</p>

<p>Так или иначе, похоже, что в ближайшие несколько десятилетий вся Европа заговорит на общем языке. Когда я учился в Италии в 1990 г., немногие жители этой страны говорили по-английски. Теперь же считается, что каждый образованный человек должен владеть этим языком - а европейцы не любят казаться необразованными. Хоть это и замалчивается, но если нынешняя тенденция сохранится, французский и немецкий языки повторят судьбу ирландского и люксембургского: на них будут говорить или рьяные националисты, или только в кругу семьи.</p>

<p><strong>9. В Америке развито венчурное финансирование</strong></p>

<p>В Америке легче создать стартап, потому что легче получить инвестиции. За пределами США сейчас существует несколько венчурных инвестиционных фондов, но стартапы финансируются не только венчурными фондами. Более важным источником являются средства частных инвесторов (бизнес-ангелов) - потому что они привлекаются на более ранних стадиях и носят более личный характер. Google, наверное, никогда бы не смог привлечь многомиллионные инвестиции венчурных фондов, если бы не получил 100000 долларов от Энди Бехтольшайма (Andy Bechtolsheim). Энди сумел помочь им, поскольку был одним из основателей Sun. В центрах сосредоточения стартапов такая схема постоянно повторяется. И именно это делает их центрами стартапов.</p>

<p>Приятная новость заключается в том, что для запуска процесса достаточно создать всего несколько удачных стартапов. И если основатели стартапов, разбогатев, останутся на месте, то они почти автоматически начнут инвестировать и вдохновлять новые стартапы.</p>

<p>Но, к сожалению, цикл создания стартапов довольно длителен. Должно пройти около пяти лет, прежде чем учредитель компании сможет финансировать новый стартап. И хотя правительство в состоянии создать местный венчурный фонд, вложив в него собственные средства и переманив управляющих из действующих компаний, бизнес-ангелы могут появиться только за счет органичного роста.</p>

<p>Между прочим, частные университеты США являются одной из причин доступности венчурного капитала. Вклады их попечительских советов составляют значительную часть средств венчурных фондов. Таким образом, еще одно преимущество частных университетов заключается в том, что существенная часть активов страны управляется компетентными инвесторами.</p>

<p><strong>10. В Америке профессия выбирается динамически</strong></p>

<p>По сравнению с другими промышленно развитыми странами выбор карьеры в США является беспорядочным. К примеру, в Америке люди часто решают поступить в медучилище только после окончания колледжа. А вот в Европе выбор профессии происходит обычно уже в старших классах.</p>

<p>Европейский подход к выбору карьеры основан на мнении, что каждый человек склонен только к одному определенному виду деятельности. Эта идея сродни убеждению, что у каждого в жизни есть естественное предназначение. Если бы это было так, самым правильным было бы как можно раньше раскрыть предназначение каждого человека, чтобы он мог пройти соответствующее обучение.</p>

<p>В Штатах же выбор карьеры происходит более беспорядочно. Но экономика меняется все быстрее, и в итоге это становится скорее преимуществом, так же как динамическая типизация оказывается эффективнее для нечетко поставленных задач, чем статическая. Это особенно верно для стартапов. Маловероятно, что старшеклассник выберет профессию &#8220;основатель стартапа&#8221;. Если опросить людей данного возраста, они предпочтут более консервативные виды деятельности. Выбор падет на всем понятные профессии инженеров, врачей или юристов.</p>

<p>Стартапы относятся к категории вещей, которые не планируются, поэтому у них больше шансов на возникновение в обществе, где карьеру можно выбрать &#8220;по ходу пьесы&#8221;.</p>

<p>К примеру, теоретически задача аспирантуры заключается в том, чтобы научить вас проводить научные исследования. Но, к счастью, в США это правило не особо исполняется. Большинство людей в США идут в аспирантуру по информатике просто потому, что хотят углубить свое образование. Они еще не решили, чем займутся потом. Поэтому американская аспирантура порождает множество стартапов - аспиранты не чувствуют себя виноватыми за то, что не ушли с головой в науку.</p>

<p>Те, кого беспокоит американская &#8220;конкурентоспособность&#8221;, зачастую предлагают увеличить финансирование государственных школ. Но, возможно, у слабости американских государственных школ есть скрытое преимущество. Они так плохи, что дети с нетерпением ждут поступления в колледж. Я, например, ждал; я знал, что изучаю настолько мало, что даже не знаю, какие варианты карьеры вообще возможны (не говоря уже о том, какой из них предпочтительнее). Это, конечно, невесело, но зато, по крайней мере, у вас не возникает предубеждения.</p>

<p>Поэтому, если бы мне предоставили выбор между плохими школами и хорошими университетами (как в США) и хорошими школами и плохими университетами (как в большинстве других развитых стран), я бы однозначно выбрал американскую систему. Пусть уж лучше все будут считать себя &#8220;поздним зажиганием&#8221;, чем загубленным вундеркиндом.</p>

<p><strong>Настрой</strong></p>

<p>В нашем списке подозрительно отсутствует еще один пункт: американский настрой. Считается, что американцы более предприимчивы и склонны к риску. Но эти качества присущи не только жителям Соединенных Штатов. Индийцы и китайцы тоже весьма предприимчивы - возможно, даже в большей степени, чем американцы.</p>

<p>Некоторые считают, что европейцы менее энергичны, но я в это не верю. Я считаю, что проблема европейцев не в недостатке решимости, а в нехватке наглядных примеров.</p>

<p>Даже в США самыми успешными учредителями стартапов являются технари, которых поначалу смущает сама идея основания собственной компании. И лишь единицы являются развязными экстравертами, каковыми представляются типичные американцы. Обычно они находят в себе достаточно сил для создания компании, лишь повстречавшись с теми, кто уже сделал это, и осознав, что подобное им тоже по силам.</p>

<p>Я думаю, что европейских хакеров удерживает лишь то, что они видят слишком мало успешных создателей стартапов. Подобное различие прослеживается даже в самих США. Студенты Стэнфорда предприимчивее студентов Йеля - но не из-за разницы в характерах, просто у студентов Йеля меньше наглядных примеров.</p>

<p>Я признаю, что в Европе и в США по-разному относятся к амбициям. В США можно открыто проявлять свои амбиции, тогда как в большинстве европейских стран это не принято. Однако недостаток амбициозности не является врожденной чертой европейцев; их предыдущие поколения были не менее честолюбивы, чем американцы. Что же произошло? Я предполагаю, что эта черта европейского характера была дискредитирована ужасными деяниями амбициозных людей в первой половине ХХ века. Теперь честолюбие под запретом. (Образ крайне амбициозного немца до сих пор вызывает определенные ассоциации, не правда ли?)</p>

<p>И было бы странно, если бы катастрофы ХХ века никак бы не повлияли на настрой европейцев. Чтобы оправиться от подобных событий и снова стать оптимистом, нужно время. Но честолюбие присуще самой человеческой природе. Постепенно это качество снова начнет проявляться.[6]</p>

<p><strong>Как превзойти Америку</strong></p>

<p>С помощью подобного перечня я не хотел доказать, что Америка - идеальное место для возникновения стартапов. Это лучшее место на данный момент, но выборка слишком мала, а &#8220;данный момент&#8221; продолжается не так уж и долго. По исторической временной шкале мы сейчас имеем всего-навсего прототип.</p>

<p>Поэтому давайте взглянем на Кремниевую Долину как на конкурирующий продукт. Какими из ее недостатков вы можете воспользоваться? Как создать что-то, более привлекательное для пользователей? Пользователи, в данном случае, - это те ключевые несколько тысяч человек, которых вам нужно заманить в вашу &#8220;кремниевую долину&#8221;.</p>

<p>Начнем с того, что Кремниевая Долина расположена слишком далеко от Сан-Франциско. Пало Альто, откуда все начиналось, находится примерно в тридцати милях от него, а современный центр Долины - более чем в сорока. В результате приезжающие работать в Кремниевую Долину сталкиваются с неприятным выбором: жить либо в самой долине в скучном пригороде, либо в Сан-Франциско и терять час на дорогу в один конец.</p>

<p>Идеальной была бы &#8220;долина&#8221;, не просто расположенная рядом с оживленным городом, а оживленная сама по себе. И в этом отношении есть большой простор для улучшений. Пало Альто не так уж плох, но все возникшее после него является худшими образчиками узкополосной застройки (жилой застройки узкой полосы вдоль дорог, без каких-либо общественных мест - прим. перев.). Понять, насколько деморализует подобное окружение, можно по числу людей, готовых пожертвовать двумя часами в день на дорогу, лишь бы не жить там.</p>

<p>Еще одна сфера, в которой вы можете легко превзойти Кремниевую Долину - это общественный транспорт. Вдоль Долины проложена железная дорога, что весьма неплохо по американским меркам. Но японцы или европейцы сочли бы это признаком страны третьего мира.</p>

<p>Люди, которых вы хотите привлечь в свою &#8220;долину&#8221;, предпочитают передвигаться на поездах, велосипедах и пешком&#8230; Поэтому, если хотите превзойти Америку, создайте город, где машины занимают последнее место. Американские города еще не скоро смогут решиться на это.</p>

<p><strong>Приращение капитала</strong></p>

<p>Есть еще пара вещей в масштабах страны, необходимых для того, чтобы превзойти Америку. Первая из них - снижение налогов на приращение капитала. Иметь самый низкий подоходный налог не так уж важно: чтобы воспользоваться этим преимуществом, людям нужно будет переехать.[7] Но если различаются налоги на приращение капитала, то перемещаются активы, а не сами люди, поэтому изменения сказываются со скоростью рынка капитала. Чем ниже налог, тем выгоднее вкладывать деньги в акции растущих компаний, а не в недвижимость, облигации или акции, приносящие только дивиденды.</p>

<p>Поэтому если вы хотите стимулировать возникновение стартапов, необходимо снизить налог на приращение капитала. Политики при рассмотрении этого вопроса оказываются между двух огней: если они установят низкий налог на приращение капитала, их обвинят в предоставлении налоговых льгот богачам; если же налог будет высоким, они лишат растущие компании венчурных инвестиций. Как сказал однажды Гэлбрейт, суть политики - в выборе между неблагоприятным и гибельным. В ХХ веке многие политики склонялись к гибельным решениям; сейчас же они склоняются к решениям просто неблагоприятным.</p>

<p>Это может показаться странным, однако лидерами в данной области сейчас являются европейские страны наподобие Бельгии, где налог на приращение капитала равен нулю.</p>

<p><strong>Иммиграция</strong></p>

<p>Еще одна сфера, в которой вы можете превзойти США, - грамотная иммиграционная политика. В этой области можно добиться значительных улучшений. Не забывайте, что &#8220;кремниевые долины&#8221; населены людьми.</p>

<p>Жители американской Кремниевой Долины прекрасно осознают недостатки иммиграционной службы (INS), но ничего не могут с этим поделать. Они - заложники системы.</p>

<p>Иммиграционной системой США никогда не руководили грамотно. А с 2001 года ко всему прочему добавилась еще и примесь паранойи. Какой процент умных людей, желающих попасть в Америку, сможет получить разрешение на въезд? Едва ли половина. Это означает, что, если вы создадите технологический центр, двери которого будут открыты для всех умных людей, вы тут же совершенно бесплатно привлечете более половины лучших мировых специалистов.</p>

<p>Иммиграционная политика США особенно не подходит для стартапов, поскольку она отражает модель трудоустройства 70-х годов. Предполагается, что у квалифицированных технарей есть высшее образование, и что работа означает трудоустройство в крупной компании.</p>

<p>Без высшего образования невозможно получить H1B - тип визы, которая обычно выдается программистам. Но требование, исключающее Стива Джобса, Билла Гейтса и Майкла Делла, нельзя считать адекватным. К тому же вы не можете получить визу для создания собственной компании - а только для наемной работы на кого-либо. Если же вы собираетесь претендовать на получение гражданства, со стартапом вообще лучше не связываться. Потому что если ваш работодатель обанкротится, вам придется начинать все сначала.</p>

<p>Иммиграционная политика США препятствует въезду большинства квалифицированных специалистов, а остальных направляет на непродуктивную работу. Превзойти ее несложно. Представьте, что получилось бы, если бы вы рассматривали иммиграцию как разновидность рекрутинга: если бы вы сознательно искали и привлекали в свою страну лучших специалистов.</p>

<p>Страна с правильной иммиграционной политикой получила бы огромное преимущество. В настоящий момент ваша страна может стать Меккой для умных людей просто благодаря иммиграционной системе, впускающей их в страну.</p>

<p><strong>Верное направление</strong></p>

<p>Если разобраться, ничто из условий, необходимых для создания среды, способствующей концентрации стартапов, не потребует от вас особых жертв. Хорошие университеты? Пригодные для жизни города? Гражданские свободы? Гибкое трудовое законодательство? Иммиграционная политика, не препятствующая притоку умных людей? Налоги, поощряющие рост? Вам не придется рисковать разрушением страны, чтобы заполучить &#8220;кремниевую долину&#8221;; все эти вещи и сами по себе полезны.</p>

<p>И, конечно же, возникает вопрос: а можете ли вы себе позволить ничего не делать? Я вполне могу представить себе будущее, в котором базовым выбором честолюбивых молодых людей станет создание собственной компании, а не устройство на работу. Я, конечно, не уверен, что оно наступит, но все идет именно к этому. И если будущее будет таким, то страны, лишенные стартапов, останутся далеко позади прочих - подобно странам, пропустившим промышленную революцию.</p>

<p><strong>Примечания</strong></p>

<p>[1] Накануне промышленной революции Англия уже была самой богатой страной мира. Не знаю, уместно ли сравнение, но доход на душу населения в Англии 1750 года превышал доход на душу населения в Индии 1960 года. Филлис Дин, &#8220;Первая промышленная революция&#8221;, изд-во Cambridge University Press, 1965.</p>

<p>[2] Однажды это уже случилось в Китае во времена правления династии Мин, когда страна по приказу правителя отказалась от индустриализации. Одно из преимуществ Европы заключалось в том, что в ней не было правительства, достаточно могущественного для принятия такого решения.</p>

<p>[3] Разумеется, Фейнман и Диоген принадлежали к родственным культурам, но даже более вежливый Конфуций не позволял навязывать себе чужой образ мыслей.</p>

<p>[4] По этой же причине попытки создания &#8220;кремниевой долины&#8221; в Израиле, наверное, также обречены на провал. Туда, напротив, перебираются только евреи, а шансы создать &#8220;кремниевую долину&#8221; из одних лишь евреев не выше, чем из одних лишь японцев. (Это замечание не относится к личным качествам вышеупомянутых народов, а касается только их численности: японцы составляют лишь 2% населения земного шара, а евреи - 0,2%)</p>

<p>[5] Согласно данным Всемирного банка требуемый от немецкой компании стартовый капитал составляет 47,6% от среднего годового дохода на душу населения. Ух. Всемирный банк, &#8220;Doing Business in 2006&#8221;.</p>

<p>[6] Большую часть ХХ столетия европейцы вспоминали лето 1914 года как прекрасный сон. Но мне кажется, что точнее было бы назвать время после 1914 г. кошмаром, чем ассоциировать период до 1914 г. с мечтой. В 1914 г. европейцы тоже были преисполнены того оптимизма, который сейчас считается исключительно американской чертой характера.</p>

<p>[7] Проблемы начинают возникать при переходе налога через 50%-ный рубеж. После превышения данного порога люди начинают всерьез заниматься уклонением от налогов. Это происходит потому, что отдача от уклонения от налогов растет очень нелинейно (x/1-x для 0 &lt; x &lt; 1). Если ваш подоходный налог составляет 10%, то при переезде в Монако ваш доход увеличится на 11%, что даже не покроет увеличение расходов. Если же вы платите подоходный налог в размере 90%, в Монако ваш доход возрастет в 10 раз. А при налоге в 98% (который некоторое время взимался в Великобритании в 70-х годах) переезд в Монако принесет 50-кратное увеличение дохода. Очень похоже, что европейские правительства 70-х годов никогда не чертили подобных графиков.</p>

<p>Взято с <a href="http://webplanet.ru/reading/life/2006/09/05/startups.html">http://webplanet.ru/reading/life/2006/09/05/startups.html</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/20/d0be-d181d0b0d0b9d182d0b0d185-d0b3d0bed181d183d187d180d0b5d0b6d0b4d0b5d0bdd0b8d0b9/">О сайтах госучреждений</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-20T19:33:37+04:00" pubdate data-updated="true">Jul 20<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Если нормальные компании осознали уже, что чем хуже у них сайт, тем большим гавном они будут выглядеть в глазах клиента. Иногда даже поражает - зайёдшь на сайтик какой-то маленькой конторки, а у них и магазин есть, и какая-никакая техподдержка, и всю интересующую инфу получить можно.
А вот с остатками совка в наших государствах (под нашими я подразумевая как Хохляндию, тат и Кацапцину) похуже будет. Сайты госучреждений - это как правило отборное дерьмо. Дизайн 1996го года, неработающие ссылки и преебанутейшее юзабилити.
А всё почему? Потому что СССР. Потому что вместо того, чтобы нанять команду квалифицированных программистов, нанимают тех, кто откат больше заплатит. И плевать, что это первый сайт в их жизни.
К чему это я. Очень хочу посмотреть в глаза тем замечательным существам, которые делали http://ticket.rzd.ru/
Очень хочется узнать, какого чёрта они хранят текущее положение на сайте в сессии&#8230;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/19/d0bed0b1-d0b8d0b4d0b5d18fd185/">об идеях</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-19T20:57:16+04:00" pubdate data-updated="true">Jul 19<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>оч понравилось:</p>

<blockquote><p>Однaжды Садoвник cказал Пиcателю: «Подapить тебe идeйку сюжeта? Самомy мне пиcать недосyг, да и нe умею толком, a у тeбя выйдет прекрaсный pоман!» «Как мнe отблaгодаpить тeбя? — воскликнул Пиcатeль, — Boзьми в дар мoй огpызoк яблока! B нeм с пoлдюжины сeмeчeк: у меня oни пpопадут, a ты вырacтишь прекрасный яблoнeвый cад!»</p></blockquote>

<p>Это к тому, что отличных идей полно у каждого. Вот только успешными становятся те, кто превращает идеи в рельность.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/19/d0bad0bed0bfd0b8d0bfd0b0d0b7d0b4/">копипазд</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-19T12:55:05+04:00" pubdate data-updated="true">Jul 19<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>взято с <a href="http://hultura.ru">http://hultura.ru</a>:</p>

<p><strong><a href="http://hultura.ru/1309.html">1309 </a></strong></p>

<p><img src="http://hultura.ru/img/Shest/bibl.jpg" alt="" /></p>

<p>&#8220;&#8230;Сперва сначала никого не был. Потом Гаспот сказал: &#8220;Где все? Виходи&#8221;. Вищли птицы, звери, лягущька, гриб, цветочик, маленкий рибка и муравей. Людей нет. Гаспот спросил: &#8220;Где людей?&#8221; Все тихо молчал, потому щьто где они ходит, никто не знает. Тогда Гаспот взял два глина и сделал баба и человек. Такой же похожий сделал, как сам себя. Но потом от баба усы и борода оторвал. И сказал: &#8220;Плодитесь и размножайтесь в поте лица своей. С маленкий хорощий внуки на колени сидеть хочу&#8221;. И толко отвернулся - сразу уже два внуки. Потом четыре. И потом восем. И ищо один. И ищо один, но потом четыре и ищо два. И один в животе звонок дергает, родиться хочет пора. Тогда сказал: &#8220;Ояебой&#8230; Сколко много рот&#8230; А работать-кормить кто будет?&#8221; И взял баба и человек за рука и кинул с небо. И все звери кинул. Щтоб над люди не смеялся. А то смеялся. И сказал: &#8220;Идите все в Россия. Плитка ложить. И кафел. И асфалт. И щпала. И щьтоб к утру грязний Россия блестелся, как у кощка кобель яйцо&#8221;.
Вот так, дети, создался наш Земляника. И то, зачем на нем живет тынь и янь&#8230;&#8221;</p>

<p>Пер. с нер. проф. Е. Шестаков</p>

<ul>
<li></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/18/new-rambler-mail/">Недавно выкатилась новая Рамблер-Почта</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-18T00:25:56+04:00" pubdate data-updated="true">Jul 18<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ну что тут сказать - она прекрасна. Отличный интерфейс, быстрый JavaScript и вроде как даже письма получает.</p>

<p>[caption id=&#8221;attachment_449&#8221; align=&#8221;alignnone&#8221; width=&#8221;300&#8221; caption=&#8221;Рамблер-Почта&#8221;]<a href="http://kostenko.name/wp-content/uploads/2009/07/rambler-mail.png"><img src="http://kostenko.name/wp-content/uploads/2009/07/rambler-mail-300x183.png" alt="Рамблер-Почта" /></a>[/caption]</p>

<p>Если честно, то раньше я считал их отдел бездельниками. Но этот релиз заставил меня ещё раз убедиться в том, что не стоит судить о людях по первому впечатлению.</p>

<p>В общем - почта молодцы. А вот нам пока нечем похвастаться, кроме охуенных абстракций :-(</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/15/d0b0d181d0b8d0bdd185d180d0bed0bdd0bdd0bed181d182d18c-d0b2-dbdpg/">Асинхронность в DBD::Pg</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-15T01:14:02+04:00" pubdate data-updated="true">Jul 15<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Все мы привыкли работать с базой в стиле:</p>

<ol>
<li><p>выполнить запрос</p></li>
<li><p>дождаться ответа</p></li>
<li><p>продолжить выполнение</p></li>
</ol>


<p>Но пока работает длинный запрос, мы в приложении можем выполнить что-то полезное. Не простаивать же процессорному времени.</p>

<p>Для PostgreSQL в DBD::Pg есть некоторое подобие асинхронности. И иногда оно таки нам помогает.</p>

<p>Вы можете продолжить выполнять приложение, не дожидаясь выполнения запроса. Включается это параметром pg_async к prepare-запросу:</p>

<pre><code>  use strict;
  use warnings;
  use Time::HiRes 'sleep';
  use DBD::Pg ':async';

  my $dbh = DBI-&gt;connect('dbi:Pg:dbname=postgres', 'postgres', '', {AutoCommit=&gt;0,RaiseError=&gt;1});

  ## Запустить длинный запрос
  my $sth = $dbh-&gt;prepare("SELECT pg_sleep(5)", {pg_async =&gt; PG_ASYNC});
  $sth-&gt;execute(5);

  ## Пока работает, мы можем что-то сделать
  print "Your query is processing. Thanks for waiting\n";
  check_on_the_kids();

  while (!$dbh-&gt;pg_ready) {
    check_on_the_kids();
    ## и подождём чуть-чуть
    sleep 0.1;
  }

  print "The query has finished. Gathering results\n";
  my $result = $sth-&gt;pg_result;
  print "Result: $result\n";
  my $info = $sth-&gt;fetchall_arrayref();
</code></pre>

<p>Для pg_async есть три константы:</p>

<ul>
<li><p>PG_ASYNC - выполнение запроса в асинхронном режиме</p></li>
<li><p>PG_OLDQUERY_CANCEL - если в этот момент работал предыдущий запроса, то он отменяется</p></li>
<li><p>PG_OLDQUERY_WAIT - блокируемся для ожидания предыдущего запроса и только потом начинаем выполнять новый</p></li>
</ul>


<p>Так же есть три вспомогательных метода -
<strong>pg_cancel</strong> - отменить запрос. Реально открывается ещё одно соединение, в котором посылается SELECT pg_cancel_backend(?);
<strong>pg_ready</strong> - возвращает true, если запрос выполнился.
<strong>pg_result</strong> - блокируется до момента выполнения запроса, после чего возвращает то же, что и ->execute в стандартном режиме.</p>

<p>Из минусов - нельзя установить callback на момент исполнения запроса. Нужно постоянно проверять.
Так же в один момент  времени в одном соединением можно выполнять только один запрос. Но что мешает открыть десяток соединений и по очереди посылать в них запросы?)</p>

<p>Попробую рассказать о применениях этой технологии:</p>

<ul>
<li><p>тяжёлые запросы + сложная логика. Равномерно загружаем свой сервер и сервер БД.</p>

<p>while (){
my $foo = compute_foo();#тяжёлая функция</p>

<h1>блокируемся до тех пор, пока не выполнится предыдущий</h1>

<p>$dbh->do(&#8216;UPDATE stats SET foo=foo+1&#8217;, { pg_async => PG_ASYNC + PG_OLDQUERY_WAIT });
}</p></li>
<li><p>работа с несколькими серверами БД</p>

<p>$first_dbh->do(&#8216;DELETE FROM old_data&#8217;, { pg_async => PG_ASYNC });
$second_dbh->do(&#8216;UPDATE new_data SET status=0&#8217;, { pg_async => PG_ASYNC })</p></li>
<li><p>таймауты. вы можете убить запрос по таймауту, если он ещё не отработал</p></li>
<li><p>конкуррентные запросы. посылаем один и тот же запрос двум серверам и отдаём данные с того сервера, который ответил быстрее.</p></li>
<li><p>запросы, результат выполнения которых вам абсолютно безразличен</p></li>
</ul>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/18/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/16/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/01/29/otlichnaia-infoghrafika-ob-obshchiestviennom-transportie/">Отличная инфографика об общественном транспорте</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/28/gdie-mienia-naiti/">Где меня найти</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/08/cached-urls-for-sass/">Cached URLs for sass</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/23/samolietostroitieli/">Самолетопоклонники</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/16/pochiemu-ia-nie-liubliu-iandieks/">Почему я не люблю Яндекс</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/gugu">@gugu</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'gugu',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("kostenko", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/kostenko" class="twitter-follow-button" data-show-count="false">Follow @kostenko</a>
  
</section>



<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/108023428314804771773?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Andrii Kostenko -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'gugu';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
