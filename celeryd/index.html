<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
<title>Hekyll Presentation Generator</title>
<meta name="author" content="" />
<meta name="description" content="">


<link href="css/themes/hekyll/hekyll.css" rel="stylesheet" />

<link href="css/syntax.css" rel="stylesheet" />
</head>
<body>
  <div id="impress" class="impress-not-supported">
    
  <div  class="step slide"  data-x="-3000" data-y="0" data-scale="4">
  

  <h1 id='celery'>Celery</h1>
<q>Сервер очередей для python</q>
</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="1000" data-y="0">
  <h1>Зачем нужна эта штука?</h1>

  <ul>
   <li>Выполнение отложенных задач</li>
   <li>Масштабирование</li>
   <li>Отказоустойчивость</li>
   <li>Замена cron-у</li>
</ul>
</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="1000" data-y="1000">
  <h1>Выполнение отложенных задач</h1>

  <ul>
   <li>Простота в реализации</li>
   <li>Простота добавления в существующий проект</li>
   <li>Получение результата выполнения задачи</li>
</ul>
</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="1000" data-y="2000">
  <h1>Масштабирование</h1>

  <ul>
   <li>Использование нескольких ядер CPU</li>
   <li>Масштабирование на несколько машин</li>
</ul>
</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="1000" data-y="3000">
  <h1>Отказоустойчивость</h1>

  <ul>
   <li>Нет точки отказа</li>
   <li>Правильная обработка ошибок</li>
   <li>Оповещение об ошибках</li>
   <li>Защита от зависаний</li>
   <li>Защита от утечек памяти</li>
   <li>CAP-теорема</li>
</ul>
</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="1000" data-y="4000">
  <h1>Недостатки cron</h1>

  <ul>
   <li>Неудобная конфигурация</li>
   <li>Странный способ сообщать об ошибках</li>
   <li>Единая точка отказа</li>
   <li>Сложно ограничивать задачи по времени и памяти</li>
   <li>Может случиться DoS атака</li>
</ul>
<p><em>Старичку пора на пенсию!</em></p>
</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="1000" data-y="5000">
  <h1>Celerybeat</h1>

  <ul>
   <li>Конфигурация внутри вашего приложения</li>
   <li>Контроль количества одновременно выполняемых тасков</li>
   <li>Приоритеты</li>
   <li>Retry</li>
   <li>Удобное масштабирование</li>
</ul>
</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="2000" data-y="0">
  <h1>Архитектура</h1>

  <img src='/celeryd/celeryd.png' />
</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="3000" data-y="0">
  <h1>Очереди</h1>

  <ul>
   <li>Протокол AMQP/pika (ActiveMQ, RabbitMQ)</li>
   <li>Beanstalkd</li>
   <li>SQS</li>
   <li>Redis</li>
   <li>MongoDB</li>
   <li>django</li>
   <li>...</li>
</ul>
<p>(сортировка по извращенности способа)</p>
</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="3000" data-y="1000">
  <h1>RabbitMQ</h1>

  <ul>
   <li>Можно создать кластер (C &amp; A)</li>
   <li><strong>или</strong> можно настроить федерацию (A &amp; P)</li>
   <li>Поддержка SSL</li>
   <li>Написана на erlang</li>
   <li>Нет приоритетов</li>
</ul>
</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="3000" data-y="2000">
  <h1>ActiveMQ</h1>

  <ul>
   <li>Enterprise</li>
   <li>Java</li>
   <li>Фу</li>
</ul>
</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="3000" data-y="3000">
  <h1>Beanstalkd</h1>

  <ul>
   <li>Три года без единого разрыва</li>
   <li>Написан на C и работает быстро</li>
   <li>Простые приоритеты</li>
</ul>
</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="4000" data-y="0">
  <h1>Кто использует?</h1>

  <small style='font-size: 80%'>AdRoll, AOL/StudioNow, Archfinch, Cantemo, Captureshot, Conversocial by iPlatform, Convore, Crowdbooster, Crucial, DataMarket, Domain51, DUO Interactive, G Adventures, Expert.io, ex.fm, Howsthe.com Website Monitoring, HUB Publishers, Jamendo, Jibe, Lawrence Journal-World, Leftronic, Liquidus, Mahalo, Maishoku, MediaGoblin, MetaMetrics, Metaname, MindSnacks, Mixcloud, </small><b>Mozilla Add-ons</b><small style='font-size: 80%'>, Munin Exchange, MyNews, MyVR, NewsCred, Needle, NestSeekers International, NewsBlur, </small><b>Nokia Siemens Networks, </b><b>Opera Software, </b><small style='font-size: 80%'>PBS, Podio, PolicyStat, Priceonomics Price Guides, Quote Roller, </small><b>Readability, </b><small style='font-size: 80%'>Redbeacon, Rent A Car Now, Revolution Systems, Skeedy, Stacked.in News, Storybird, StoryMarket, Street Drama, StreetVoice, TestFlight, Top Stats, Topics.io, Votizen, Wave Accounting, What an App!, Whiskey Media, Wildfish, Yipit, YippieMove, Zapier.com, Zazna.com</small>
</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="5000" data-y="0">
  <h1>Mybook.ru</h1>

  <q>У нас есть печеньки (c)</q>

</div>

  <div class="page-break"></div>

  <div  class="step slide"  data-x="6000" data-y="0">
  <h1>Вопросы?</h1>

  <p><q>andrey@kostenko.name</q></p>
</div>

  <div class="page-break"></div>



<div id="overview" class="step"  data-x="1000" data-y="1000" data-scale="10"></div>


  </div>
  <script type="text/javascript" src="impress.js"></script>
</body>
</html>

